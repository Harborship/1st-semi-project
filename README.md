# 아파트 실거래가 예측 모델 만들기

## ● 목표 

기존에 아파트 실거래가를 설명하는 집의 넓이, 방의 갯수, 건축 년도 등의 변수에 지하철역의 위치와 도심과의 거리 변수를 추가하여 아파트 실거래가를 예측하는 새로운 모델 만들기



## ● 이론적 배경

### 1. 다중도심모형

다중도심도시의 지불용의지대 그래프에는 전역적 극대와 국지적 극대가 존재하며, 전역적 극대가 도심, 그 외의 국지적 극대를 부도심이라 해석이 가능하다. 이를 이용해 그래프를 그려보면 실제 도시의 내부구조와 비슷한 구조를 얻을 수 있다.

### 2. 스타벅스와 도심

스타벅스는 좋은 상권을 표적시장으로 설정하고 다수의 매장을 배치하는 '집중적 초토화 전략'을 전개하여 국내에서 가장 유동 고객이 많은 주요 도심을 중심으로 매장을 계속 늘려왔다.



## ● 프로젝트 수행 과정

### 1. 데이터 수집 및 전처리

​	1-1. 소상공인 데이터를 이용해 스타벅스 가맹점의 위치를 도출한 뒤  K-Means Clustering을 이용해 도심의 위치 도출

​	1-2. 지하철역의 위도 및 경도 데이터 받아오기

​	1-3. 국토교통부 아파트 실거래가 데이터를 기반으로 크롤링을 통해  각 아파트의 기본적인 feature 및 실거래가, 위경도 정보 등 도출

​	1-4. 한국은행의 기준금리 데이터 받아오기

​	1-5. 각 구별 범죄율, 서울시 공원 데이터 등 집값에 연관이 있을 것으로 추정되는 기타 변수의 데이터를 받아오기

​	1-6. 해당 아파트와 가장 가까운 도심 사이의 하버사인(Haversine) 거리 도출

​	1-7. 해당 아파트와 가장 가까운 지하철역 사이의 하버사인(Haversine) 거리 도출

​	1-8. 아파트와 가장 가까운 공원(한강공원 포함) 및 버스 정류장과의 거리를 구한 뒤 임계값보다 거리가 작으면 1, 크면 0의 더미 변수 할당



### 2. 모델 구축 및 평가

​	2-1. 아파트 실거래가 데이터를 Test&Train 데이터로 분할

​	2-2. Test&Train 데이터를 MinMaxScaling 및 StandardScaling을 이용해 표준화

​	2-3. OLS, Lasso, Ridge, ElasticNet 모델과 GridSearchCV를 이용해 최적 파라미터를 찾고 회귀분석을 진행

​	2-4. XGB Regressor와 LGBM Regressor모델 및 GridSearchCV를 이용해 최적 파라미터를 찾고 회귀분석을 진행. 이후 각각 모델의 score값을 가중치로 갖는 XGB Regressor&LGBM Regressor 선형결합 모델을 만들어 회귀분석을 진행

​	2-5. Test 데이터를 이용하여 각 모델의 정확도를 RMSE를 이용해 평가



## ● 프로젝트 수행 결과

1. 회귀 분석 결과 선형회귀모델에 비해 앙상블 모델이 더 높은 정확도를 보였음
2. 팀에서 제시한 핵심 변수인 도심과의 거리(center_weight), 지하철역과의 거리(sub_dist)는 정확도를 크게 높혀주지는 못했으나(0.1~1% 수준의 정확도 증가 확인) 높은 feature importance를 이용해 과적합을 방지하는 용도로 사용이 가능할 것으로 확인됨